# Trend Following Principal Component Analysis
Trend Following Strategies for Principal Components

## Overview
This repo goal is to apply trend following techniques for various Principal Component techniques. In this case trend following strategies using EWMACs and EWMAs for the yield curve did not prove successful. Although decomposing Treasury futures (which can be considered as at term structure) and then taking the difference between yield PCs and Futures PCs and then applying Trend Following filters (EWAMCs and EWMAs) on top did prove successful. Another successful strategy approach was trading the spread between the principal component of Treasur Futures and the principal components of the yield curve.

Another common approach in trend following is applying a Kalman Filter which give both a smooth component and a residual. This is useful because the smooth component can be used for applying a trend follower (which failed), but trading the mean reversion of the residuals by shorting z-scores did work. This can be applied to the principal components of the yield curve to trade Treasury Futures which proved useful.

While some signal returns are good some are quite bad. There are times in which specific EWMAC parameters perform better than other. It needs to be investigated on whether or not that is a structural function of the market which can be inferred or if it is just some form of generic p-hacking. Certain principal components perform better than others, while it may be easier to just "throw out" certain PCs there needs to be a considerable amount of empirical research that can be used to infer that. Since the signals are already generated its a little biased to think about what results "could-ve" been found for portfolio optimization, but blatently dropped poor performers ex-post will definitely lead to overfitting.

## Data Approach
The treasury futures are collected via Bloomberg Terminal (roll adjusted to price via ratio) for US treasuries, and the yields are collected via St. Louis Federal Reserve (Fred) dataset. Within the ```sklearn.decomposition.PCA``` package running principal components with ```NaNs``` is not possible. THis poses a problem for newer Treasury Futures such as WN and UXY. In this case they values get inputted as 0s. All data regarding Treasury futures for every step including PCA is done in basis point. This is for analyzing cumulative performance across treasury futures. In real world application equal risk contribution across futures is the main approach which is a reasonable proxy for duration neutral strategy therefore the results should be relatively comporable. Maybe later in the future this repo will focus on optimizing strategies for futures. 
